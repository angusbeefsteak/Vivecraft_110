--- a/net/minecraft/network/handshake/client/C00Handshake.java
+++ b/net/minecraft/network/handshake/client/C00Handshake.java
@@ -1,10 +1,12 @@
 package net.minecraft.network.handshake.client;
 
 import java.io.IOException;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.handshake.INetHandlerHandshakeServer;
+import net.minecraft.src.Reflector;
 
 public class C00Handshake implements Packet<INetHandlerHandshakeServer>
 {
@@ -12,7 +14,7 @@
     private String ip;
     private int port;
     private EnumConnectionState requestedState;
-
+    private boolean hasFMLMarker = false;
     public C00Handshake()
     {
     }
@@ -24,7 +26,13 @@
         this.port = port;
         this.requestedState = requestedState;
     }
-
+    
+    public C00Handshake(int protocol, String address, int port, EnumConnectionState state, boolean addFMLMarker)
+    {
+    	this(protocol, address, port, state);
+    	this.hasFMLMarker = addFMLMarker;
+    }
+    
     /**
      * Reads the raw packet data from the data stream.
      */
@@ -64,4 +72,8 @@
     {
         return this.protocolVersion;
     }
+    public boolean hasFMLMarker()
+    {
+    	return this.hasFMLMarker;
+    }
 }
